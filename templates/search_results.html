<!DOCTYPE html>
<html>
<head>
    <title>Search Results</title>
</head>
<body>
    <h1>Search Results for "{{ query }}" in {{ table }}</h1>
    {% if query_type %}
        {% if query_type == 'total_wealth_by_country' %}
            <h2>Total Wealth by Country</h2>
            <table border="1">
                <tr>
                    <th>Country</th>
                    <th>Total Wealth</th>
                </tr>
                {% for result in results %}
                <tr>
                    <td>{{ result.country }}</td>
                    <td>{{ result.total_wealth }}</td>
                </tr>
                {% endfor %}
            </table>
        {% elif query_type == 'count_wealthy_over_age' or query_type == 'count_wealthy_under_age' %}
            <h2>Count of Wealthy People</h2>
            <p>{{ results[0].count }}</p>
        {% elif query_type == 'avg_age_by_country' %}
            <h2>Average Age by Country</h2>
            <table border="1">
                <tr>
                    <th>Country</th>
                    <th>Average Age</th>
                </tr>
                {% for result in results %}
                <tr>
                    <td>{{ result.country }}</td>
                    <td>{{ result.avg_age }}</td>
                </tr>
                {% endfor %}
            </table>
        {% elif query_type == 'max_wealth_by_country' %}
            <h2>Max Wealth by Country</h2>
            <table border="1">
                <tr>
                    <th>Country</th>
                    <th>Max Wealth</th>
                </tr>
                {% for result in results %}
                <tr>
                    <td>{{ result.country }}</td>
                    <td>{{ result.max_wealth }}</td>
                </tr>
                {% endfor %}
            </table>
        {% elif query_type == 'min_wealth_by_country' %}
            <h2>Min Wealth by Country</h2>
            <table border="1">
                <tr>
                    <th>Country</th>
                    <th>Min Wealth</th>
                </tr>
                {% for result in results %}
                <tr>
                    <td>{{ result.country }}</td>
                    <td>{{ result.min_wealth }}</td>
                </tr>
                {% endfor %}
            </table>
        {% endif %}
    {% else %}
    <table border="1">
        <tr>
            {% if table == 'billionaire' %}
                <th>Person Name</th>
                <th>Age</th>
                <th>Gender</th>
                <th>Rank</th>
                <th>Final Worth</th>
                <th>Source</th>
                <th>Country</th>
                <th>City</th>
                <th>Industries</th>
                <th>Country Info</th>
            {% elif table == 'industry' %}
                <th>Industry Name</th>
                <th>Category</th>
            {% elif table == 'country' %}
                <th>Country</th>
                <th>CPI</th>
                <th>CPI Change</th>
                <th>GDP</th>
                <th>Gross Tertiary Education Enrollment</th>
                <th>Gross Primary Education Enrollment</th>
                <th>Life Expectancy</th>
                <th>Tax Revenue</th>
                <th>Total Tax Rate</th>
                <th>Population</th>
                <th>Latitude</th>
                <th>Longitude</th>
            {% endif %}
        </tr>
        {% for result in results %}
        <tr>
            {% if table == 'billionaire' %}
                <td>{{ result.personName }}</td>
                <td>{{ result.age }}</td>
                <td>{{ result.gender }}</td>
                <td>{{ result.rank }}</td>
                <td>{{ result.finalWorth }}</td>
                <td>{{ result.source }}</td>
                <td>{{ result.country }}</td>
                <td>{{ result.city }}</td>
                <td>
                    <ul>
                    {% for industry in result.industries %}
                        <li>{{ industry.industryName }}</li>
                    {% endfor %}
                    </ul>
                </td>
                <td>
                    <ul>
                    {% for info in result.country_info %}
                        <li>{{ info.country }} - CPI: {{ info.cpi_country }}</li>
                        <!-- Add more country info as needed -->
                    {% endfor %}
                    </ul>
                </td>
            {% elif table == 'industry' %}
                <td>{{ result.industryName }}</td>
                <td>{{ result.category }}</td>
            {% elif table == 'country' %}
                <td>{{ result.country }}</td>
                <td>{{ result.cpi_country }}</td>
                <td>{{ result.cpi_change_country }}</td>
                <td>{{ result.gdp_country }}</td>
                <td>{{ result.gross_tertiary_education_enrollment }}</td>
                <td>{{ result.gross_primary_education_enrollment_country }}</td>
                <td>{{ result.life_expectancy_country }}</td>
                <td>{{ result.tax_revenue_country_country }}</td>
                <td>{{ result.total_tax_rate_country }}</td>
                <td>{{ result.population_country }}</td>
                <td>{{ result.latitude_country }}</td>
                <td>{{ result.longitude_country }}</td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
    {% endif %}
    <a href="/">Back to Home</a>
</body>
</html>
